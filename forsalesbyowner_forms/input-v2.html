<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign In Form</title>
    <link rel="stylesheet" href="../assets/style.css">
    <style>
        * {
            font-family: 'Rocket Sans';
        }

        body {
            display: flex !important;
            justify-content: center !important;
            align-items: center !important;
        }

        .form-container {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.1);
            width: 400px;
            text-align: center;
        }

        .form-container h2 {
            font-size: 20px;
            margin-bottom: 20px;
            color: #333;
        }

        .input-group {
            margin-bottom: 15px;
            text-align: left;
        }

        .input-group label {
            font-size: 14px;
            margin-bottom: 5px;
            display: block;
        }

        .input-group input {
            width: calc(100% - 25px);
            padding: 12px;
            border: 1px solid #ddd;
            font-size: 14px;
            box-shadow: 1px 1px 1px #cacaca;
        }

        .input-group input:focus {
            outline: none;
            border-color: #111;
        }

        .error-message {
            background-color: #fff;
            color: #2e2e2e;
            font-size: 12px;
            margin-top: 10px;
            padding: 10px;
            display: none;
            border-width: 0px 0px 0px 4px;
            border-style: solid;
            box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2);
            transition: 0.3s;
            font-weight: 500;
            font-style: italic;
        }

        .error-border {
            border-color: #ff4e54 !important;
        }

        .btn {
            width: 100%;
            padding: 12px;
            border: none;
            background-color: #0b3a9e;
            color: white;
            font-size: 14px;
            cursor: pointer;
            margin-top: 10px;
        }

        .btn:hover {
            background-color: #0056b3;
        }

        .additional-links {
            margin-top: 15px;
            font-size: 12px;
        }

        .additional-links a {
            color: #0b3a9e;
            text-decoration: none;
        }

        .additional-links a:hover {
            text-decoration: underline;
        }

        .requirement-list {
            padding-left: 10px !important;
        }

        .requirement-list li {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 5px;
        }

        .d-flex {
            display: inline-flex !important;
        }

        .d-none {
            display: none !important;
        }
    </style>
</head>

<body>
    <div class="form-container">
        <h2>Sign In Form with Colorful UI & Validation</h2>

        <form id="signInForm">
            <div class="input-group">
                <label for="email">Email Address</label>
                <input type="text" id="email" placeholder="Email Address">
                <div class="error-message error-border" id="emailError">This field is required and cannot be left blank
                </div>
                <div class="error-message error-border" id="emailInvalidError">Please enter a valid email address</div>
            </div>

            <div class="input-group">
                <label for="password">Password</label>
                <input type="password" id="password" placeholder="Password">
                <div class="error-message error-border" id="passwordError">This field is required and cannot be left
                    blank</div>
                <div class="error-message" id="passwordLengthError">
                    Password must meet the following requirements:
                    <ul class="requirement-list">
                        <li id="eightChar">
                            <span class="icon unchecked d-flex">⛔</span>
                            <span class="icon checked d-none">✅</span>
                            <span>At least 8 characters</span>
                        </li>
                        <li id="specialChar">
                            <span class="icon unchecked d-flex">⛔</span>
                            <span class="icon checked d-none">✅</span>
                            <span>Contains at least one special character</span>
                        </li>
                        <li id="upperChar">
                            <span class="icon unchecked d-flex">⛔</span>
                            <span class="icon checked d-none">✅</span>
                            <span>Contains at least one uppercase letter</span>
                        </li>
                        <li id="lowerChar">
                            <span class="icon unchecked d-flex">⛔</span>
                            <span class="icon checked d-none">✅</span>
                            <span>Contains at least one lowercase letter</span>
                        </li>
                    </ul>
                </div>
            </div>

            <button type="button" class="btn" onclick="validateForm()">Sign In</button>
        </form>

        <div class="additional-links">
            <a href="#">Forgot Your Password?</a>
        </div>

        <div class="additional-links">
            <p>Don't have an account? <a href="#">Create an Account Instead</a></p>
        </div>
    </div>

    <button class="view-code-button"><a href="./get-code-v2.html">View Code</a></button>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const emailInput = document.getElementById("email");
            const passwordInput = document.getElementById("password");

            const emailError = document.getElementById("emailError");
            const emailInvalidError = document.getElementById("emailInvalidError");
            const passwordError = document.getElementById("passwordError");

            const requirements = {
                eightChar: {
                    element: document.getElementById("eightChar"),
                    isValid: false,
                    check: (password) => password.length >= 8,
                },
                specialChar: {
                    element: document.getElementById("specialChar"),
                    isValid: false,
                    check: (password) => /[!@#$%^&*(),.?":{}|<>]/.test(password),
                },
                upperChar: {
                    element: document.getElementById("upperChar"),
                    isValid: false,
                    check: (password) => /[A-Z]/.test(password),
                },
                lowerChar: {
                    element: document.getElementById("lowerChar"),
                    isValid: false,
                    check: (password) => /[a-z]/.test(password),
                },
            };

            emailInput.addEventListener("blur", validateEmailInput);
            emailInput.addEventListener("input", validateEmailInput);
            passwordInput.addEventListener("focus", () => passwordError.style.display = "none");
            passwordInput.addEventListener("blur", handlePasswordBlur);
            passwordInput.addEventListener("input", validatePasswordInput);

            function validateEmailInput() {
                const email = emailInput.value;
                emailError.style.display = "none";
                emailInvalidError.style.display = "none";

                if (email === "") {
                    emailError.style.display = "block";
                } else if (!validateEmail(email)) {
                    emailInvalidError.style.display = "block";
                }
            }

            function validateEmail(email) {
                const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                return re.test(String(email).toLowerCase());
            }

            function handlePasswordBlur() {
                if (passwordInput.value.trim() === "") {
                    passwordError.style.display = "block";
                }
            }

            function validatePasswordInput() {
                const password = passwordInput.value;
                let allValid = true;

                for (const key in requirements) {
                    const requirement = requirements[key];
                    requirement.isValid = requirement.check(password);
                    toggleRequirement(requirement.element, requirement.isValid);
                    if (!requirement.isValid) {
                        allValid = false;
                    }
                }

                if (allValid) {
                    passwordInput.classList.remove("error-border");
                    passwordInput.classList.add("success-border");
                } else {
                    passwordInput.classList.add("error-border");
                }
            }

            function toggleRequirement(element, isValid) {
                const uncheckedIcon = element.querySelector(".unchecked");
                const checkedIcon = element.querySelector(".checked");

                if (isValid) {
                    uncheckedIcon.classList.add("d-none");
                    checkedIcon.classList.remove("d-none");
                } else {
                    uncheckedIcon.classList.remove("d-none");
                    checkedIcon.classList.add("d-none");
                }
            }

            function validateForm() {
                validateEmailInput();
                handlePasswordBlur();
                validatePasswordInput();

                if (emailInput.value && passwordInput.value && !document.querySelector(".error-border")) {
                    alert("Form submitted successfully!");
                }
            }
        });
    </script>
</body>

</html>